/* Source file made available under Mozilla Public License v. 2.0 See the main repository for updates as well as full license text.
   https://github.com/Godiesc/firefox-one */

@media (prefers-color-scheme: dark){:root{ scrollbar-color: #38375580 #18173530 !important; }}      /*Color de la barra de desplazamiento*/
@media(prefers-color-scheme: light){:root{ scrollbar-color: #d8d9da #f4f2f7!important; }}           /*Color de la barra de desplazamiento*/

/**{ scrollbar-width: thin !important}                                                              /*Barra de desplazamiento delgada*/

.alt-stop { stop-color: var(--left-color) !important; }                                             /* left color logo-and-wordmark */
.main-stop { stop-color: var(--right-color) !important; }                                           /* right color logo-and wordmark*/

@-moz-document url(chrome://browser/content/browser.xul), url(about:newtab), url(about:home), url(about:privatebrowsing) {
   
    body {
    /*--newtab-search-icon: url(chrome://global/skin/icons/search-glass.svg) !important;            /* Image in the newtab searchbox */
    --newtab-background-color-secondary: transparent !important;                                    /* Background color of pinned sites and search box */
    --newtab-element-hover-color: var(--button-active-bgcolor) !important;                          /* Background color when clicking on the 3 dot menu icon */

    --newtab-element-secondary-hover-color: var(--button-hover-bgcolor) !important;                /* color when 'hover' on menu items three dots */

    --newtab-element-secondary-active-color: var(--button-hover-bgcolor) !important;               /* Color clic en items del menú de 3 puntos */

    --newtab-border-color: color-mix(in srgb, var(--newtab-background-color) 92%,                   /* 3-point menu and input-box border color when editing a site*/
        var(--newtab-wordmark-color)) !important;
        
    --newtab-primary-action-background: var(--button-active-bgcolor) !important;                    /* Colors for 'Save' buttons and radiobuttons */
        
    --newtab-primary-element-text-color: var(--newtab-text-primary-color) !important;               /* check-box color */
        
    --newtab-element-secondary-color: color-mix( in srgb,                                           /* Color of inactive elements */
      var(--newtab-background-color) 85%, var(--newtab-text-primary-color) ) !important;
        
    --newtab-overlay-color: color-mix(in srgb, var(--contrast-color) 46%, transparent) !important;  /* Big background when editing a site, semi-transparent */
    }
    
    @media (prefers-color-scheme: dark){
        
        body {
            --contrast-color: black !important;                                                     /* Personal background color for contrast */
            --border-contrast-color: #09080d !important;                                            /* Personal border color for contrast */
            --arrowpanel-background: #171b1f  !important;                                            /* Background color for 3 dot menu */
        }}
    
    @media (prefers-color-scheme: light){
        
        body{
            --contrast-color: white !important;                                                     /* Personal background color for contrast */
            --border-contrast-color: #acacac50 !important;                                          /* Personal border color for contrast */
            --arrowpanel-background : #f9f9f9 !important;                                           /* Background color for 3 dot menu */

        }}
    
/* Newtab background with default colors*/
    
    @media not (-moz-bool-pref:"firefoxone.without-default-colors") {
        @media (prefers-color-scheme: dark){
            body{
            --newtab-background-color: #030615 !important;                                    /* Color fondo general */
            }}
        @media (prefers-color-scheme: light){
            body{
            --newtab-background-color: #d0dbe3 !important;                                    /* Color fondo general */
            }}
    }
    
/* _______________________________________________________ Wallpapers _______________________________________________________ */
    
    @media not (-moz-bool-pref:"firefoxone.main-image"){

        /* Dark 1 - Fuchsia */
        #dark-sky,
        #photographs[style*='e94b1e49-c518-40d6-98e3-dffab6cc370d.avif'],
        body[style*="e94b1e49-c518-40d6-98e3-dffab6cc370d.avif"]{
            background-image: var(--wallpaper-dark1) !important;
        }

        /* Dark 2 - Ultraviolet */
        #dark-mountain,
        #photographs[style*='af6073d2-cbb2-4e28-b642-3327d14808b2.avif'],
        body[style*="af6073d2-cbb2-4e28-b642-3327d14808b2.avif"]{
            background-image: var(--wallpaper-dark2) !important;
        }

        /* Dark 3 - Blue */
        #dark-panda,
        #photographs[style*='6b8eb3cf-f232-4c7b-a179-afd174555134.avif'],
        body[style*="6b8eb3cf-f232-4c7b-a179-afd174555134.avif"]{
            background-image: var(--wallpaper-dark3) !important;
        }
        
        /* Dark 4 - Green */
        #dark-fox-anniversary,
        #photographs[style*='d8b71c77-9985-41d2-b98e-51bebc60e595.avif'],
        body[style*="d8b71c77-9985-41d2-b98e-51bebc60e595.avif"]{
            background-image: var(--wallpaper-dark4) !important;
        }

        /* Dark 5 - Swamp */
        #dark-landscape,
        #photographs[style*='10e23599-85bc-4660-ae06-7a67befbbcf9.avif'],
        body[style*="10e23599-85bc-4660-ae06-7a67befbbcf9.avif"]{
            background-image: var(--wallpaper-dark5) !important;
        }

        /* Dark 6 - Gray */
        #dark-beach,
        #photographs[style*='966b18ad-3733-41c4-92f6-c89cdf1381d0.avif'],
        body[style*="966b18ad-3733-41c4-92f6-c89cdf1381d0.avif"]{
            background-image: var(--wallpaper-dark6) !important;
        }

        /* Light 1 - Fuchsia */
        #light-panda,
        #photographs[style*='dfd3762e-f77d-4b6e-ac75-32eb2549ef40.avif'],
        body[style*="dfd3762e-f77d-4b6e-ac75-32eb2549ef40.avif"]{
            background-image: var(--wallpaper-light1) !important;
        }

        /* Light 2 - Ultraviolet */
        #light-landscape,
        #photographs[style*='d9289c5b-8c78-4b27-b5d8-afe7285ce7d1.avif'],
        body[style*="d9289c5b-8c78-4b27-b5d8-afe7285ce7d1.avif"]{
            background-image: var(--wallpaper-light2) !important;
        }

        /* Light 3 - BLue */
        #light-mountain,
        #photographs[style*='5344443f-f427-4029-bc6b-68bc22f83355.avif'],
        body[style*="5344443f-f427-4029-bc6b-68bc22f83355.avif"]{
            background-image: var(--wallpaper-light3) !important;
        }

        /* Light 4 - Rose */
        #light-sky,
        #photographs[style*='45ecab20-ffb9-47b4-94ff-07a5f8b9f53f.avif'],
        body[style*="45ecab20-ffb9-47b4-94ff-07a5f8b9f53f.avif"]{
            background-image: var(--wallpaper-light4) !important;
        }

        /* Light 5 - Lightgreen */
        #light-beach,
        #photographs[style*='56a7f3ae-70cc-45f2-82ec-1d39acdd3b8d.avif'],
        body[style*="56a7f3ae-70cc-45f2-82ec-1d39acdd3b8d.avif"]{
            background-image: var(--wallpaper-light5) !important;
        }
        
        /* Light 6 - Orange */
        #light-fox-anniversary,
        #photographs[style*='a5a041de-9275-4eb5-8f21-a0171c82d388.avif'],
        body[style*="a5a041de-9275-4eb5-8f21-a0171c82d388.avif"]{
            background-image: var(--wallpaper-light6) !important;
        }
    }
    
    /* Accent color for each wallpaper */
    
    :root:has(#photographs[style*='e94b1e49-c518-40d6-98e3-dffab6cc370d.avif"']){
        --general-color: var(--general-color-dark1) !important;    }

    :root:has(#photographs[style*='af6073d2-cbb2-4e28-b642-3327d14808b2.avif']){
        --general-color: var(--general-color-dark2) !important;    }
    
    :root:has(#photographs[style*='6b8eb3cf-f232-4c7b-a179-afd174555134.avif']){
        --general-color: var(--general-color-dark3) !important;    }
    
    :root:has(#photographs[style*='d8b71c77-9985-41d2-b98e-51bebc60e595.avif']){
        --general-color: var(--general-color-dark4) !important;    }

    :root:has(#photographs[style*='10e23599-85bc-4660-ae06-7a67befbbcf9.avif']){
        --general-color: var(--general-color-dark5) !important;    }

    :root:has(#photographs[style*='966b18ad-3733-41c4-92f6-c89cdf1381d0.avif']){
        --general-color: var(--general-color-dark6) !important;    }

    :root:has(#photographs[style*='dfd3762e-f77d-4b6e-ac75-32eb2549ef40.avif']){
        --general-color: var(--general-color-light1) !important;   }

    :root:has(#photographs[style*='d9289c5b-8c78-4b27-b5d8-afe7285ce7d1.avif']){
        --general-color: var(--general-color-light2) !important;   }

    :root:has(#photographs[style*='5344443f-f427-4029-bc6b-68bc22f83355.avif']){
        --general-color: var(--general-color-light3) !important;   }

    :root:has(#photographs[style*='45ecab20-ffb9-47b4-94ff-07a5f8b9f53f.avif']){
        --general-color: var(--general-color-light4) !important;   }

    :root:has(#photographs[style*='56a7f3ae-70cc-45f2-82ec-1d39acdd3b8d.avif']){
        --general-color: var(--general-color-light5) !important;   }
    
    :root:has(#photographs[style*='a5a041de-9275-4eb5-8f21-a0171c82d388.avif']){
        --general-color: var(--general-color-light6) !important;   }
    
    /* rearrangement of wallpapers */
    
    #dark-sky { order: 1 !important; }
    #dark-mountain { order: 2 !important; }
    #dark-panda { order: 3 !important; }
    #dark-fox-anniversary { order: 4 !important;}
    #dark-landscape { order: 5 !important; }
    #dark-beach { order: 6 !important; }
    #light-panda { order: 7 !important; }
    #light-landscape { order: 8 !important; }
    #light-mountain { order: 9 !important; }
    #light-sky { order: 10 !important; }
    #light-beach { order: 11 !important; }
    #light-fox-anniversary { order: 12 !important;}
        
    /* Border color when 'hover' over wallpapers */

    .wallpaper-list .wallpaper-input:not(:checked):hover {
        outline: 1px solid #80808080 !important;
    }
    
    /* Border color when 'hover' over selected wallpaper */

    .wallpaper-list .wallpaper-input:checked:hover {
        filter: none !important;
        outline-color: var(--button-active-bgcolor) !important;
    }
    
    .wallpaper-input:checked{
        padding: 1px !important;
    }
    
    /* Remove credits from the image used as wallpaper */

    .wallpaper-attribution { display: none !important; }
    
    /* Wallpaper default brightness and wallpaper para Main-image config */
    
    body{ backdrop-filter: var(--brightness-wallpaper) !important; }

    @media (-moz-bool-pref:"firefoxone.main-image") {
        
        body{
            background-image: var(--lwt-main-image, initial) !important;
            background-repeat: repeat-x, var(--lwt-background-tiling), no-repeat !important;
            background-size: calc(100% + var(--my-vertical-toolbar-width, 0px) + var(--extension-width, 0px) + 10px) auto !important;
            background-attachment: fixed !important;    
            background-position-x: right -4px !important;
            background-position-y: var(--background-align-y) !important;/**/
            backdrop-filter: var(--brightness-wallpaper) !important;
        }
    }
    
    
/* ------------- Wallpaper default y wallpaper para Main-image config ------------- 
    
body{
    background-size:  var(--wallpaper-size) !important;
    background-attachment: fixed !important;
    backdrop-filter: var(--brightness-wallpaper) !important;
    }

@media (-moz-bool-pref:"firefoxone.main-image") {
    
body{
    background-image: var(--lwt-main-image) !important;
    background-size:  var(--wallpaper-size) !important;
    background-repeat: no-repeat !important;
    background-position-x: right !important;
    background-position-y: var(--background-align-y) !important;
    border-radius: 8px !important;
    backdrop-filter: var(--brightness-wallpaper) !important;
    }}*/

.logo{
    background: url("../icons/foxlogo.svg") no-repeat !important;
    background-size: cover !important;
    max-height: 70px !important;
    max-width: 70px !important;
    Opacity: var(--logo-wordmark-visibility) !important;
    display: var(--logo-wordmark-display) !important;
    -moz-context-properties: fill !important;
    fill: var(--general-color) !important;
    }
    
.wordmark {
    background-image: url("../icons/firefox-wordmark.svg") !important;
    Opacity: var(--logo-wordmark-visibility) !important;
    display: var(--logo-wordmark-display) !important;
    }
    
.search-wrapper .logo-and-wordmark {
    margin-bottom: 0px !important;
    }
    
.promo-cta .button {
    color: #cacaca !important; 
    }
    
main {
    justify-content: var(--newtab-pinnedsites-position-top, center) !important;
    }
    
/* "Logo-wordmark" y search-box en una sola linea */
    
@media screen and (min-width: 1000px){
    
    .wordmark{ 
        margin-inline-end: 50px !important;  
    }
    .search-wrapper, .search-inner-wrapper{
        display: var(--orientation-display) !important;
        justify-content: center !important;
    }
    .search-inner-wrapper{
        display: var(--searchbar-display) !important;
        height: 52px !important;
        margin-top: 16px !important;
    }
  }
    
/* Eliminar scrollbar */
    
*{scrollbar-width: none !important }

/* Color checkbox accesos patrocinados */
    
.sponsored-checkbox:is(:checked):hover, .sponsored-checkbox:not(:checked):hover{ 
    background-color: var(--button-hover-bgcolor) !important;
    }

/* Color de borde del radio-button en "Personalizar" */
    
.toggle-button {
  --toggle-background-color-pressed: var(--button-active-bgcolor) !important;
  --toggle-background-color-pressed-hover: var(--button-hover-bgcolor) !important;
  --toggle-background-color-pressed-active: var(--general-color) !important;
    }

/* Colores al "editar" un sitio anclado */
    
.modal{
    background: var(--newtab-overlay-color) !important;
    border-radius: 20px !important; 
    }
    
.modalOverlayOuter{
    backdrop-filter: blur(26px);     
    }
    
.topsite-form .actions{
    border-color: color-mix(in srgb, var(--arrowpanel-background) 92%, var(--newtab-text-primary-color)) !important;
    }
    
input[type="text"]{
    background-color: var(--newtab-pinnedsites-background) !important;
    border-radius: 4px !important;
    border-color: var(--border-contrast-color) !important;
    }
    
input:focus-visible, input:focus-visible{
    outline: 2px solid var(--general-color) !important;
    outline-offset: -1px !important;
    border-color: var(--general-color) !important;
    }
    
/* Menú de 3 puntos */
    
.context-menu {
    background-color: var(--arrowpanel-background) !important; 
    box-shadow: 0px 0px 0 1px var(--border-contrast-color) !important;
    border: 1px solid color-mix(in srgb, var(--arrowpanel-background) 92%, var(--newtab-text-primary-color)) !important;
    border-radius: 8px !important;
    z-index: 2 !important;
    }
    
.context-menu > ul > li > button:hover {
    color: #ffffff !important;
    }
    
/* linea separadora */
    
.context-menu .separator{
    margin-block: 2px !important;
    margin-inline-start: 6px !important;
    width: -moz-available !important;
    border-color: #50505080 !important;  
    }
    
/* Color de borde del boton "Guardar" */
    
.actions button:not(.cancel), .actions button:focus:not(.cancel) {
    color: white !important;  
    border: transparent !important;
    }
.actions button:hover:not(.dismiss) {
    background-color: var(--button-hover-bgcolor) !important; 
    color: white !important; 
    box-shadow:none !important; 
    }

/* Color de borde del boton "Cancelar" */
    
.actions button:is(.cancel){
    background-color: var(--newtab-element-secondary-color) !important; 
    border-color: transparent !important; 
    }
.actions button:is(.cancel):hover {
    box-shadow:none !important; 
    background-color: #da3633 !important; 
    color: #f0f6fc !important; 
    border-color: #f85149 !important;
    }

    /* Botón "Personalizar" */

    .icon.icon-settings {
        background-image: url("../icons/edit.svg") !important;
        opacity: 0.6 !important;
        }
    
    .personalize-button:hover {
        background-color: color-mix(in srgb, var(--contrast-color), transparent) !important;
        opacity: 1 !important;
        fill: white !important;
    }

    .lightWallpaper .personalize-button:hover{
        fill: black !important;
    }

/* Colores del botón "Cerrar" */
    
.close-button {
    background-color: var(--newtab-element-secondary-color) !important;
    color: var(--newtab-wordmark-color)  !important;
    border-radius: 6px !important;
    border-color: color-mix(in srgb, var(--newtab-element-secondary-color) 96%, var(--newtab-wordmark-color)) !important;
    }
.close-button:hover{
    background-color: var(--button-active-bgcolor) !important;
    border-color: transparent !important;
    color: white  !important;
    }
    
/* _______________________________ Colors of the sliding sidebar used to customize the NewTab _______________________________ */
    
    /* Change animation when it appears */ 
    
    .customize-menu {
        height: calc(100% - 12px) !important;
        right: 6px !important;
        top: 6px !important;
        bottom: 6px !important;
        padding-inline: 0px !important;
        border-radius: 8px !important;
        transform: none !important;
        visibility: hidden !important;
        opacity: 0 !important;
    }
    
    .customize-menu.customize-animate-enter, .customize-menu.customize-animate-enter-done {
        opacity: 1 !important;
        visibility: visible !important;
    }
    
    .customize-menu.customize-animate-exit, .customize-menu.customize-animate-exit-done {
        opacity: 0 !important;
        visibility: hidden !important;
    }

    .customize-menu.customize-animate-enter, .customize-menu.customize-animate-enter-done, 
    .customize-menu.customize-animate-exit, .customize-menu.customize-animate-exit-done {
        transition: visibility 300ms, opacity 300ms ease !important;
    }
    
    /* Background */
    
    .customize-menu {
        background-color: color-mix(in srgb, var(--newtab-background-color) ,var(--newtab-overlay-color)) !important;
        color: var(--newtab-wordmark-color) !important;
        backdrop-filter: var(--personal-blur); 
    }
    
    /* Fixed 'wallpapers v2' section */
    
    .wallpaper-list.category {
        background-color: var(--newtab-background-color) !important;
        width: 432px !important;
        height: 100% !important;
        inset-inline-start: 0px !important;
    }

    .wallpaper-list{
        padding: 25px 20px 25px 20px !important;
        margin-block: 0px !important;
    }
    
    /* Combobox */
    
    .home-section .section .selector {
        background-color: var(--newtab-element-secondary-color) !important;
        border-color: transparent !important;
        border-radius: 4px !important; 
    }

    .home-section .section .selector:hover {
        background-color: var(--button-active-bgcolor) !important;
        border-color: var(--button-hover-bgcolor) !important;
        color: white !important;
    }
    
    /* Checkbox color for 'sponsored sites' */

    .sponsored-checkbox:is(:checked):hover, .sponsored-checkbox:not(:checked):hover{ 
        background-color: var(--button-hover-bgcolor) !important;
    }

    /* Radiobutton color into "Customize" */

    .toggle-button[aria-pressed="true"] {
        background: var(--button-active-bgcolor) !important;
    }
    
    .toggle-button[aria-pressed="false"] {
        opacity: 0.7 !important;
    }

    .toggle-button[aria-pressed="true"]:enabled:hover {
        background: var(--button-hover-bgcolor) !important;
    }

    .toggle-button:enabled:hover {
        opacity: 1 !important;
    }
    
    /* Shadow */
    
    .customize-menu.customize-animate-enter-done, .customize-menu.customize-animate-enter-active {
        box-shadow: 0 0 0 1px #50505050, 0 0 4px 0px var(--contrast-color) !important;
    }
    
    /* Separador*/
    
    .home-section .divider { 
        border-color: #50505080 !important;
        margin-inline: 0px !important;
    }

/* ___________________________________________________________ Search-bar ___________________________________________________________ */
    
/* Ícono Lupa */
    
.search-wrapper .search-button {
    fill: var(--newtab-text-primary-color) !important;
    padding-inline: 30px !important;
    border-radius: 0 34px 34px 0 !important;
    }
    
.search-inner-wrapper{
    position: relative;
    background: transparent !important;
    opacity: var(--searchbar-on-off, 1) !important;
    display: var(--searchbar-display, flex) !important;
    margin-top: 40px !important;
    outline: none !important;
    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.15) !important;
    }
    
.search-inner-wrapper:not(:focus){
    border-radius: 34px !important;
    backdrop-filter: none !important;
    }
    
/* Font color when using light wallpaper */
        .lightWallpaper :is(.search-inner-wrapper input, .search-wrapper input, #newtab-search-text[Keepfocus="true"]){
            color-scheme: light !important;
            color: #101019 !important;
        }
        
         /* Font color when using dark wallpaper */
        .darkWallpaper :is(.search-inner-wrapper input, .search-wrapper input, #newtab-search-text[Keepfocus="true"]){
            color-scheme: dark !important;
            color: #eaeaea !important;
        }
    
/* Estilo en la nueva version de la search-bar */
    
@media (-moz-bool-pref:"browser.newtabpage.activity-stream.improvesearch.handoffToAwesomebar"){
    .search-inner-wrapper:not(:focus){
        background: var(--newtab-pinnedsites-background) !important;
        backdrop-filter: var(--personal-blur) !important;
        filter: saturate(140%) !important;
        }

    .search-wrapper .search-inner-wrapper{
        outline: 2px solid transparent !important;
        outline-offset: -2px !important;
        transition: background-color 0.2s ease, outline 0.2s ease !important;
        }
    .search-wrapper.fake-focus .search-inner-wrapper{
        outline: 2px solid var(--general-color) !important;
        transition: background-color 0.2s ease, outline 0.2s ease !important;
        }
    .search-wrapper .search-inner-wrapper:hover,
    .search-wrapper.fake-focus .search-inner-wrapper{
        background-color: color-mix(in srgb, var(--newtab-pinnedsites-background) 90%, var(--newtab-wordmark-color)) !important;
        transition: background-color 0.2s ease, outline 0.2s ease !important;
        transition-delay: 0.1s, 0ms !important;
        }
    }
    
.search-inner-wrapper:is(:hover){
    border-radius: 34px !important;
    }
    
.search-inner-wrapper:not(:focus) input, .search-wrapper:not(:active) input:focus{
    background-color: var(--newtab-pinnedsites-background) !important;
    backdrop-filter: var(--personal-blur) !important;
    /*filter: saturate(140%) !important;/*/
    border-radius: 34px !important;
    }
    
.search-handoff-button{
    border-color: transparent !important;
    border-radius: 34px !important;
    box-shadow: none !important; 
    }
    
/* Animación clic search-bar */    
.search-wrapper .search-inner-wrapper input, .search-wrapper input{
    outline: 2px solid transparent !important;
    outline-offset: -2px !important;
    border: transparent !important;
    margin-left: 1px !important;
    transition: background-color 0.2s ease-out, outline 0.2s ease-out;
    }
    
.search-wrapper .search-inner-wrapper:is(:active,:focus-within) input, .search-wrapper input:focus {
    outline: 2px solid var(--button-active-bgcolor) !important;
    }
    
.search-wrapper .search-inner-wrapper:is(:hover,:focus-within) input, .search-wrapper input:hover {
    background-color: color-mix(in srgb, var(--newtab-pinnedsites-background) 90%, var(--newtab-wordmark-color)) !important;
    transition: background-color 0.2s ease-out, outline 0.2s ease-out;
    transition-delay: 0.1s, 0ms !important;
    }
/* ------------------------------- */
    
.search-wrapper .search-button:focus, .search-wrapper .search-button:hover {
    fill: white !important;
    }
    
.search-wrapper .search-inner-wrapper:active input,
.search-wrapper input:focus {
    box-shadow: none !important;
    }
    
browser[primary="true"][tabDialogShowing="true"],
#main-window[window-modal-open="true"] > body > #browser{
    filter: blur(10px)
    }

/* _____________________________________________________ Pinned sites ______________________________________________________ */
    
    /* Fondo pequeño de los favICON de los sitios anclados */

    .top-site-icon{ background-color: transparent !important; }
   
    /* Pinned icon */

    .top-site-outer .title span .icon.icon-pin-small { display: none !important; }
    
    /* Label - pinned site */

    .top-site-outer .title  {
        width: 80px !important;
        font-size: 14px !important;
        font-weight: 501 !important;
        margin-top: -40px !important;
        margin-inline: 10px !important;
        text-shadow: 0px 0px 6px color-mix(in srgb, var(--contrast-color) 60%, transparent) !important;
    }   
    
    /* Alinear los -sitios anclados- con -Actividad Reciente- */

    .collapsible-section{
        margin-left: -12px !important;
    }

    /* Colores sitios anclados (fondo pequeño) */
    
    .top-site-outer .tile {
        border-radius: 12px !important;
        width: 100px !important;
        height: 100px !important;
        align-items: start !important;
        padding-top: 12px !important;
        outline: 1px solid #50505030 !important;
        outline-offset: -1px !important;
        background: var(--newtab-pinnedsites-background) !important;
        backdrop-filter: var(--personal-blur) !important;
        transition: background-color 0.2s ease;
    }

    /* Colores :hover sitios anclados (fondo más grande) */

    .top-site-outer, .top-site-outer.active{
        background-color: transparent !important;
    }
    
    /* Colores al pasar el mouse en :hover sobre los sitios anclados y actividad reciente */
    
    .top-site-outer:hover .tile, .card-outer:hover .card{
        background-color: color-mix(in srgb, var(--newtab-pinnedsites-background) 90%, var(--newtab-wordmark-color)) !important;
        transition: background-color 0.2s ease;
    }
    
    /* Font color on 'hover' when using light wallpapers */
    
    .lightWallpaper .top-site-outer{
        --contrast-color: white !important;
    }
    .lightWallpaper .top-site-outer:is(:hover, :active, .active) {
        color-scheme: light;
    }
    
    /* Font color on 'hover' when using dark wallpapers */
    
    .darkWallpaper .top-site-outer{
        --contrast-color: black !important;
    }
    .darkWallpaper .top-site-outer:is(:hover, :active, .active) {
        color-scheme: dark;
    }
    
    /* Quita el borde que aparece luego de dar clic a un sitio anclado y mover el mouse fuera */

    .top-site-outer:is(:focus-within) .tile, .card-outer:is(.active,:focus-within) .card{
        background-color: color-mix(in srgb, var(--newtab-pinnedsites-background) 90%, var(--newtab-wordmark-color)) !important;
        box-shadow: none !important;
    }
    
    .top-site-outer:is(:focus-within) .title, .card-outer:is(.active,:focus-within) .card{
        text-decoration: underline !important;
    }    
    
/* ____________________________________________________ Recent Activity ____________________________________________________ */
    
    .card-outer .card {
        background: var(--newtab-pinnedsites-background) !important;
        backdrop-filter: var(--personal-blur) !important;
        filter: saturate(140%) !important;
        border-radius: 14px !important;
        border: 1px solid #50505030 !important;
    }
    
    .compact-cards .card-outer .card-preview-image-outer { 
        border-radius: 14px 14px 0 0 !important; 
    }
    
    /* Font color when using a light wallpaper */
    .lightWallpaper :is(
        .card-host-name,
        .card-outer:not(.placeholder) .card-title,
        .card-outer .icon) {
        --contrast-color: white !important;
        color-scheme: light !important;
        color: #101019 !important;
    }
    
    /* Font color when using a light wallpaper */
    .darkWallpaper :is(
        .card-host-name,
        .card-outer:not(.placeholder) .card-title,
        .card-outer .icon) {
        --contrast-color: black !important;
        color-scheme: dark !important;
        color: #eaeaea !important;
    }
    
    .ds-highlights .section .section-list .card-outer .card-host-name {
        text-shadow: 1px 1px 2px color-mix(in srgb, var(--contrast-color) 60%, transparent) !important;
    }
    
    .card-outer:not(.placeholder) .card-title {
        text-shadow: 0px 0px 6px color-mix(in srgb, var(--contrast-color) 60%, transparent) !important;
    }
    
    .card-outer:is(:hover, :focus, :active, :focus-within, .active):not(.placeholder) .card-title, 
    .card-outer:is(:hover, :focus, .active):not(.placeholder) .card-title {
        --newtab-primary-action-background: blue !important;
        text-decoration: underline !important;
    }
    
    .compact-cards .card-outer .card-context>.card-context-icon {
        fill: var(--newtab-wordmark-color) !important;
        opacity: 0.7 !important;
        /*filter: drop-shadow( 0px 1px 0px var(--contrast-color)) !important;*/
    }

/* _______________________________________________________ 3 dot icon ______________________________________________________ */
    
    /* 3 dot icon pinned sites */    
    .card-outer .context-menu-button{
        margin-top: 15px !important;
        margin-right: 15px !important;
        background-image: url("../icons/more.svg") !important;
        border-radius: 50% !important;
        border-color: #50505030 !important;
        transition-delay: 0ms !important;
    }
    
    /* 3 dot icon recent activity*/
    .top-site-outer .context-menu-button {
        background-image: url("../icons/more.svg") !important;
        background-color: transparent !important;
        border-radius: 50% !important;
        inset-inline-end: 6px !important;
        margin-block-start: 20px !important;
        top: 2px !important;
        transition: opacity 200ms;
    }
    
    /*  3 dot icon on 'hover' and 'click' */
    .card-outer .context-menu-button:is(:hover,[open], :active),  
    .card-outer.active .context-menu-button,
    .top-site-outer .context-menu-button:is(:hover, :focus) {
        background-color: color-mix(in srgb, var(--contrast-color) 70%, transparent) !important;
        transition: opacity 200ms;
        fill: var(--newtab-text-primary-color) !important;
    }
    
    /* Fondo de <popup> al intentar eliminar un sitio anclado*/

    .modal{
        backdrop-filter: var(--personal-blur) !important;
        outline: 1px solid var(--contrast-color) !important;
        }
    }

/*---------------------------------- Pagina de Error al Cargar Página ---------------------------------------------*/

@-moz-document url('about:config'),  url(about:privatebrowsing), regexp("^about:(neterror|certerror).*") , url('about:firefoxview') {

.button[autofocus], .button[type="submit"], .button[default], button.primary:not(:hover) {
    background-color: var(--button-active-bgcolor) !important;
    color: white !important;
    border-color: transparent !important;
    }
    
button.primary:hover{
    background-color: var(--general-color) !important;
    color: white !important; 
    }
}

/* ---------------------- Color fondo y letra al seleccionar texto ------------------------- */

::selection {
    color: white !important;
    box-shadow: none !important;
    text-shadow: none !important;
    background: var(--selected-text-background) !important;
}

/* -------------------------------- #### Private Mode #### ----------------------------------*/

@-moz-document url(about:privatebrowsing) {
    
@media (prefers-color-scheme: light){   
.private{ background: #d0dbe3 !important; }
    }
    
    :root{ 
        --general-color: var(--purple) !important; 
    }
    
body{
    --newtab-search-icon: url("chrome://global/skin/icons/indicator-private-browsing.svg") !important;
    background: var(--lwt-private-image) no-repeat right top fixed !important;
    background-size: cover !important;
    background-position-y: var(--background-align-y) !important;
    border-radius: 8px !important;    
    }
    
.promo.below-search, .info{
    background-color: var(--newtab-pinnedsites-background) !important;
    backdrop-filter: var(--personal-blur) !important;
    outline: 1px solid #50505030 !important;
    }
    
.search-handoff-button{
    background-color: transparent !important;
    border: transparent !important;
    box-shadow: none !important;
    }
    
.fake-textbox, .fake-editable {
    color: var(--newtab-wordmark-color) !important;
    }

.fake-caret{ 
    background-color: var(--in-content-icon-color) !important 
    }

.search-inner-wrapper:not(:focus){
    backdrop-filter: var(--personal-blur) !important;
    }
    
.logo{
    background: url("chrome://global/skin/icons/indicator-private-browsing.svg") no-repeat !important;
    background-size: cover !important;
    height: 80px !important;
    width: 80px !important;
    Opacity: var(--logo-wordmark-visibility) !important;
    display: var(--logo-wordmark-display) !important;
    }
    
.wordmark {
    background: url("../icons/firefox-wordmark-private.svg") no-repeat center center !important;
    Opacity: var(--logo-wordmark-visibility) !important;
    display: var(--logo-wordmark-display) !important;
    }
}

/*..........................................Firefox--------------------------------------------
---------------------------------------------view-----------------------------------------------*/

@-moz-document regexp("^about:firefoxview.*") /*, regexp("^about:.*") */ {
    
    :root{
        --fxview-primary-action-background: transparent !important;                     /* Background categoría seleccionada */
        --fxview-element-background-hover: var(--button-hover-bgcolor) !important;      /* contextual menu :hover item */
        --fxview-element-background-active: var(--button-active-bgcolor) !important;    /* contextual menu :active item */
        --fxview-border: var(--fxview-primary-action-background) !important;
        --fxview-background-color: transparent !important;
        --opaque: color-mix(in srgb, var(--in-content-page-background) 70%, transparent) !important;
    }
    
    @media (prefers-color-scheme: dark) {
  :host, :root {
         --newtab-background-color: #14141d !important;
         --newtab-background-color-secondary: rgba(52, 55, 69, 0.7) !important;
         --newtab-primary-action-background: var(--general-color) !important;
         --in-content-primary-button-text-color: white !important;
         --in-content-primary-button-background: var(--general-color) !important;
         --in-content-primary-button-background-hover: var(--button-hover-bgcolor) !important;
         --in-content-primary-button-background-active: var(--button-active-bgcolor) !important;
        }
    }
    
    @media (prefers-color-scheme: light){
        :root{
         --newtab-background-color: #efeff5 !important;
         /*--newtab-background-color-secondary: white !important;*/
         --newtab-primary-action-background: var(--general-color) !important;
         --in-content-primary-button-text-color: white !important;
         --in-content-primary-button-background: var(--general-color) !important;
         --in-content-primary-button-background-hover: var(--button-hover-bgcolor) !important;
         --in-content-primary-button-background-active: var(--button-active-bgcolor) !important;
        }
    }
    
    body, .sticky-container{
    --bg: var(--lwt-main-image);
    background-image: linear-gradient(var(--opaque), var(--opaque)),
                      linear-gradient(var(--opaque), var(--opaque)), 
                      var(--bg) !important;
    background-repeat: repeat !important;
    background-size: cover !important;
    background-attachment: fixed !important;
    background-position-y: var(--background-align-y) !important;
    backdrop-filter: var(--brightness-wallpaper) !important;
    }
    
    .sticky-container{
        margin-block-end: 10px !important;
        box-shadow: 0 4px 10px var(--in-content-page-background) !important;
        clip-path: polygon(0 0, 100% 0, 100% calc(100% + 10px), 0 calc(100% + 10px));
    }
    
    button[selected] {
        transition-duration: 0ms !important;
    }
    
    .search-container input:focus{
      &:focus-visible {
        border: none !important;
        }
    }
}